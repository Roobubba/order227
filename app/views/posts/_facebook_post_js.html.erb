<script type="text/javascript">
  var fb_hidden = $('#post_fb_post:hidden');
  var fb_checkbox = $('.fb-post-checkbox');
  var fb_button = $('.fb-post-reset');
  var fb_post_value = fb_hidden.val();
  
  var tw_hidden = $('#post_tw_post:hidden');
  var tw_checkbox = $('.tw-post-checkbox');
  var tw_button = $('.tw-post-reset');
  var tw_post_value = tw_hidden.val();
  
  if (fb_post_value === "2"){
    fb_checkbox.prop("checked", true);
    fb_checkbox.prop("disabled", true);
    $('.fb-post-label').text("Already posted to Facebook");
    fb_button.show();
    fb_button.click(function(){
      $('.fb-post-label').text("Re-post to Facebook?");
      fb_hidden.val("1");
      fb_checkbox.prop("checked", true);
      fb_checkbox.prop("disabled", false);
      fb_button.hide();
    });
  }
  else if(fb_post_value === "1"){
    fb_checkbox.prop("checked", true);
  }
  
  if (tw_post_value === "2"){
    tw_checkbox.prop("checked", true);
    tw_checkbox.prop("disabled", true);
    $('.tw-post-label').text("Already posted to Twitter");
    tw_button.show();
    tw_button.click(function(){
      $('.tw-post-label').text("Re-post to Twitter?");
      tw_hidden.val("1");
      tw_checkbox.prop("checked", true);
      tw_checkbox.prop("disabled", false);
      tw_button.hide();
    });
  }
  else if(tw_post_value === "1"){
    tw_checkbox.prop("checked", true);
  }


  fb_checkbox.bind('change', function(e){
    if (fb_checkbox.prop("checked") === true){
       fb_hidden.val("1");
    }
    else{
       fb_hidden.val("0");
    }
  });
  tw_checkbox.bind('change', function(e){
    if (tw_checkbox.prop("checked") === true){
       tw_hidden.val("1");
    }
    else{
       tw_hidden.val("0");
    }
  });
  
  
  
</script>